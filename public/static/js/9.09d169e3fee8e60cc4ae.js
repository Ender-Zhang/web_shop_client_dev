webpackJsonp([9],{Fx8a:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s("Xxa5"),a=s.n(o),i=s("exGp"),r=s.n(i),n=s("Dd8w"),c=s.n(n),d=s("gyMJ"),_=s("zL8q"),l=s("NYxO"),u={data:function(){return{textarea:"",rating:0,colors:["#99A9BF","#F7BA2A","#FF9900"],currentGoodsId:0,shopNum:1}},computed:c()({},Object(l.c)(["goodsDetail","userInfo","goodsComment"])),created:function(){this.currentGoodsId=Number(this.$route.params.id),this.$store.dispatch("reqGoodsDetail",{goodsNo:this.currentGoodsId}),this.$store.dispatch("reqGoodsComment",{goodsId:this.currentGoodsId})},watch:{$route:function(){this.currentGoodsId=Number(this.$route.params.id),this.$store.dispatch("reqGoodsDetail",{goodsNo:this.currentGoodsId}),this.$store.dispatch("reqGoodsComment",{goodsId:this.currentGoodsId}),this.$store.dispatch("getUserInfo")}},methods:{post:function(){var t=this;return r()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.textarea){e.next=3;break}return Object(_.MessageBox)({type:"info",message:"Comments must not be empty",showClose:!0}),e.abrupt("return");case 3:return e.next=5,Object(d.y)(t.goodsDetail[0].goods_id,t.textarea,t.rating,t.userInfo.id);case 5:200===e.sent.success_code?(Object(_.MessageBox)({type:"success",message:"Publish successfully",showClose:!0}),t.textarea="",t.$store.dispatch("reqGoodsComment",{goodsId:t.currentGoodsId})):Object(_.MessageBox)({type:"info",message:"Posting Failure",showClose:!0});case 7:case"end":return e.stop()}},e,t)}))()},dealWithCellBtnClick:function(t){var e=this;return r()(a.a.mark(function s(){var o,i;return a.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!e.userInfo.user_name){s.next=5;break}return s.next=3,Object(d.a)(e.userInfo.id,t.goods_id,t.short_name,t.thumb_url,t.price,e.shopNum,t.counts);case 3:200===(o=s.sent).success_code&&(Object(_.MessageBox)({type:"success",message:o.message,showClose:!0}),i=e.userInfo.id,e.$store.dispatch("reqCartsGoods",{user_id:i}),e.shopNum=1);case 5:case"end":return s.stop()}},s,e)}))()}}},m={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.goodsDetail[0]?s("div",{attrs:{id:"container"}},[s("div",{staticClass:"pro_detail"},[s("div",{staticClass:"pro_img"},[s("div",{staticClass:"tb_booth"},[s("img",{staticClass:"pro_middle_img",attrs:{src:t.goodsDetail[0].image_url}})])]),t._v(" "),s("div",{staticClass:"pro_meg"},[s("div",{staticClass:"pro_meg_hd"},[s("h1",[t._v("\n\t\t\t\t\t \t\t"+t._s(t.goodsDetail[0].goods_name)+"\n\t\t\t\t\t\t")])]),t._v(" "),s("div",{staticClass:"pro_meg_price"},[s("dl",[s("dt",[t._v("Promotion Price")]),t._v(" "),s("dd",[s("div",{staticClass:"promo_price"},[s("span",{staticClass:"tm-price"},[t._v(t._s(t._f("moneyFormat")(t.goodsDetail[0].price)))]),t._v(" "),s("b",[t._v("Promotion")])])])]),t._v(" "),s("dl",[s("dt",[t._v("Market Price")]),t._v(" "),s("dd",{staticClass:"nor_price"},[t._v(t._s(t._f("moneyFormat")(t.goodsDetail[0].normal_price/1e3)))])]),t._v(" "),t._m(0),t._v(" "),s("dl",[s("dt",{staticClass:"sale_tip"},[t._v(t._s(t.goodsDetail[0].sales_tip))])]),t._v(" "),t._m(1)]),t._v(" "),t._m(2),t._v(" "),s("div",{staticClass:"pro_meg_console"})])]),t._v(" "),s("div",{staticClass:"pro_comment"},[s("h3",[t._v("Product Reviews")]),t._v(" "),t.goodsDetail[0].comments_count?s("div",t._l(t.goodsComment,function(e,o){return s("div",{key:o,staticClass:"media"},[s("div",{staticClass:"media-body"},[e.user_nickname?s("h6",{staticClass:"media-heading"},[t._v("User: "+t._s(e.user_nickname))]):s("h6",{staticClass:"media-heading"},[t._v("User: "+t._s(t._f("nameFormat")(e.user_name)))]),t._v(" "),s("span",[t._v("Comments:")]),t._v(" "+t._s(e.comment_detail)+"\n              "),s("el-rate",{attrs:{disabled:"","show-score":"","text-color":"#ff9900"},model:{value:e.comment_rating,callback:function(s){t.$set(e,"comment_rating",s)},expression:"comment.comment_rating"}})],1)])}),0):s("div",{staticClass:"media"},[s("div",{staticClass:"media-body"},[t._v("\n            No comments for this product\n          ")])])]),t._v(" "),t.userInfo.user_name?s("div",{staticClass:"pro_judge"},[s("h3",[t._v("Rate this item")]),t._v(" "),s("span",[t._v("Rate this product")]),t._v(" "),s("el-rate",{attrs:{colors:t.colors,"show-score":"","text-color":"#ff9900"},model:{value:t.rating,callback:function(e){t.rating=e},expression:"rating"}}),t._v(" "),s("el-input",{attrs:{type:"textarea",autosize:"",placeholder:"请输入内容"},model:{value:t.textarea,callback:function(e){t.textarea=e},expression:"textarea"}}),t._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.post()}}},[t._v("Release"),s("i",{staticClass:"el-icon-edit el-icon--right"})])],1):s("div",{staticClass:"pro_judge"},[s("h3",[t._v("Rate this item")]),t._v(" "),s("span",{staticClass:"judge_erro_tip"},[t._v("Login to post comments")])])]):t._e()},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("dl",[e("dt",[this._v("Our Store Offer")]),this._v(" "),e("dd",[this._v("Shipping included")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("dl",[e("dt",[this._v("Service Commitment")]),this._v(" "),e("dd",[e("span",[this._v("Genuine product guarantee")]),this._v(" "),e("span",[this._v("Extremely fast returns")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"pro_meg_deliver"},[e("dl",[e("dt",[this._v("Shipping Fee")]),this._v(" "),e("dd",[this._v("Pennsylvania  To  Pennsylvania   Express delivery:0.00")])])])}]};var v=s("VU/8")(u,m,!1,function(t){s("tlhB")},"data-v-a5b553fe",null);e.default=v.exports},tlhB:function(t,e){}});
//# sourceMappingURL=9.09d169e3fee8e60cc4ae.js.map