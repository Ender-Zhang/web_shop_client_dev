webpackJsonp([11],{WrGN:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var l=t("Xxa5"),o=t.n(l),s=t("exGp"),a=t.n(s),i=(t("NYxO"),t("gyMJ")),n={data:function(){return{fileList:[],dialogImageUrl:"",dialogVisible:!1,ruleForm:{goods_id:null,short_name:"",goods_name:"",price:null,sales_tip:"",counts:null,category:1},rules:{goods_id:[{required:!0,message:"Please enter the product ID",trigger:"blur"}],short_name:[{required:!0,message:"Please enter the product name",trigger:"blur"}],goods_name:[{required:!0,message:"Please fill in the product details",trigger:"blur"}],price:[{required:!0,message:"Please enter the product special price",trigger:"blur"}],counts:[{required:!0,message:"Please enter product inventory",trigger:"blur"}],category:[{required:!0,message:"Please select a product category number",trigger:"blur"}],sales_tip:[{required:!0,message:"Please enter the product label",trigger:"blur"}]},options:[{value:1,label:"Beauty Whitening"},{value:2,label:"Health Care"},{value:3,label:"Medical Books"},{value:4,label:"Medical Devices"},{value:5,label:"Vision Protection"}]}},methods:{handleChange:function(e,r){r.length>1&&(r=r.slice(-1)),this.fileList=r},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},submitForm:function(e){var r=this;return a()(o.a.mark(function t(){var l,s,a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(e),l=!1,r.$refs[e].validate(function(t){t&&(console.log("valid",t),r.$refs[e].model.goods_id=Number(r.$refs[e].model.goods_id),r.$refs[e].model.counts=Number(r.$refs[e].model.counts),r.$refs[e].model.price=Number(r.$refs[e].model.price),console.log(r.$refs[e].model),l=!0,console.log("flag",l))}),console.log("flag",l),!l){t.next=18;break}return(s=new FormData).append("goods_id",r.$refs[e].model.goods_id),s.append("short_name",r.$refs[e].model.short_name),s.append("goods_name",r.$refs[e].model.goods_name),s.append("counts",r.$refs[e].model.counts),s.append("price",r.$refs[e].model.price),s.append("sales_tip",r.$refs[e].model.sales_tip),s.append("category",r.$refs[e].model.category),console.log("formData",s),t.next=16,Object(i.b)(s);case 16:200===(a=t.sent).success_code?(r.$message({type:"success",message:"Added successfully"}),r.$router.replace("/admin"),Object(i.m)()):500===a.success_code?r.$message({type:"info",message:"Product already exists"}):r.$message({type:"error",message:"Failed to add"});case 18:case"end":return t.stop()}},t,r)}))()},resetForm:function(e){this.$refs[e].resetFields()}}},u={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{attrs:{id:"addgoods"}},[t("h3",[e._v("Product Listing")]),e._v(" "),t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[t("el-form-item",{staticStyle:{width:"250px"},attrs:{label:"Product ID",prop:"goods_id"}},[t("el-input",{attrs:{type:"number"},model:{value:e.ruleForm.goods_id,callback:function(r){e.$set(e.ruleForm,"goods_id",r)},expression:"ruleForm.goods_id"}})],1),e._v(" "),t("el-form-item",{staticStyle:{width:"500px"},attrs:{label:"Product Name",prop:"short_name"}},[t("el-input",{model:{value:e.ruleForm.short_name,callback:function(r){e.$set(e.ruleForm,"short_name",r)},expression:"ruleForm.short_name"}})],1),e._v(" "),t("el-form-item",{staticStyle:{width:"500px"},attrs:{label:"Product Images"}},[t("el-upload",{attrs:{"list-type":"picture-card","on-preview":e.handlePictureCardPreview,"on-change":e.handleChange,"auto-upload":!1,multiple:!1,"limit:1":"",action:"https://team-rolls-royce-backend.glitch.me"}},[t("i",{staticClass:"el-icon-plus"})]),e._v(" "),t("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(r){e.dialogVisible=r}}},[t("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1),e._v(" "),t("el-form-item",{staticStyle:{width:"250px"},attrs:{label:"Product Specials",prop:"price"}},[t("el-input",{attrs:{type:"number"},model:{value:e.ruleForm.price,callback:function(r){e.$set(e.ruleForm,"price",r)},expression:"ruleForm.price"}})],1),e._v(" "),t("el-form-item",{staticStyle:{width:"250px"},attrs:{label:"Merchandise Inventory",prop:"counts"}},[t("el-input",{attrs:{type:"number"},model:{value:e.ruleForm.counts,callback:function(r){e.$set(e.ruleForm,"counts",r)},expression:"ruleForm.counts"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"Product Categories",prop:"category"}},[t("el-select",{attrs:{placeholder:"Please select"},model:{value:e.ruleForm.category,callback:function(r){e.$set(e.ruleForm,"category",r)},expression:"ruleForm.category"}},e._l(e.options,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),t("el-form-item",{staticStyle:{width:"500px"},attrs:{label:"Product Tags",prop:"sales_tip"}},[t("el-input",{model:{value:e.ruleForm.sales_tip,callback:function(r){e.$set(e.ruleForm,"sales_tip",r)},expression:"ruleForm.sales_tip"}})],1),e._v(" "),t("el-form-item",{staticStyle:{width:"500px"},attrs:{label:"Product Details",prop:"goods_name"}},[t("el-input",{attrs:{type:"textarea",autosize:""},model:{value:e.ruleForm.goods_name,callback:function(r){e.$set(e.ruleForm,"goods_name",r)},expression:"ruleForm.goods_name"}})],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.submitForm("ruleForm")}}},[e._v("Create Now")]),e._v(" "),t("el-button",{on:{click:function(r){return e.resetForm("ruleForm")}}},[e._v("Reset")])],1)],1)],1)},staticRenderFns:[]};var c=t("VU/8")(n,u,!1,function(e){t("jwd8")},"data-v-56998e79",null);r.default=c.exports},jwd8:function(e,r){}});
//# sourceMappingURL=11.7bdd25fbbc714b760ac2.js.map